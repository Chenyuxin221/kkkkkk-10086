(function(_0x3ab68a,_0xcf9c9b){const _0x1dda17=_0xd391,_0x100fed=_0x3ab68a();while(!![]){try{const _0x2fdbbc=-parseInt(_0x1dda17(0x18f))/0x1*(parseInt(_0x1dda17(0x178))/0x2)+-parseInt(_0x1dda17(0x14d))/0x3+-parseInt(_0x1dda17(0x180))/0x4*(-parseInt(_0x1dda17(0x157))/0x5)+parseInt(_0x1dda17(0x172))/0x6+-parseInt(_0x1dda17(0x188))/0x7*(-parseInt(_0x1dda17(0x151))/0x8)+parseInt(_0x1dda17(0x156))/0x9+-parseInt(_0x1dda17(0x14c))/0xa;if(_0x2fdbbc===_0xcf9c9b)break;else _0x100fed['push'](_0x100fed['shift']());}catch(_0xc0843a){_0x100fed['push'](_0x100fed['shift']());}}}(_0x21ad,0x9c15d));const _0x232868=(function(){let _0x5bcc94=!![];return function(_0x2fcccc,_0x30d0d2){const _0x3db265=_0x5bcc94?function(){if(_0x30d0d2){const _0x1e940e=_0x30d0d2['apply'](_0x2fcccc,arguments);return _0x30d0d2=null,_0x1e940e;}}:function(){};return _0x5bcc94=![],_0x3db265;};}()),_0x4ea886=_0x232868(this,function(){const _0x11af1a=_0xd391;return _0x4ea886[_0x11af1a(0x18b)]()[_0x11af1a(0x161)](_0x11af1a(0x155))[_0x11af1a(0x18b)]()[_0x11af1a(0x182)](_0x4ea886)[_0x11af1a(0x161)](_0x11af1a(0x155));});_0x4ea886();const _0x70968c=(function(){let _0x365202=!![];return function(_0x50d99e,_0xda77ab){const _0x5a626a=_0x365202?function(){const _0x2bb01c=_0xd391;if(_0xda77ab){const _0x53ab00=_0xda77ab[_0x2bb01c(0x184)](_0x50d99e,arguments);return _0xda77ab=null,_0x53ab00;}}:function(){};return _0x365202=![],_0x5a626a;};}()),_0x1de2ed=_0x70968c(this,function(){const _0x2f6a67=_0xd391;let _0x486655;try{const _0x1cb939=Function(_0x2f6a67(0x18c)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x486655=_0x1cb939();}catch(_0x345d90){_0x486655=window;}const _0x32456d=_0x486655['console']=_0x486655[_0x2f6a67(0x175)]||{},_0x39a03a=['log',_0x2f6a67(0x146),_0x2f6a67(0x145),_0x2f6a67(0x164),'exception','table',_0x2f6a67(0x163)];for(let _0xc36471=0x0;_0xc36471<_0x39a03a[_0x2f6a67(0x171)];_0xc36471++){const _0x313de1=_0x70968c[_0x2f6a67(0x182)][_0x2f6a67(0x17a)][_0x2f6a67(0x153)](_0x70968c),_0x4ac6ab=_0x39a03a[_0xc36471],_0x4e7814=_0x32456d[_0x4ac6ab]||_0x313de1;_0x313de1[_0x2f6a67(0x169)]=_0x70968c[_0x2f6a67(0x153)](_0x70968c),_0x313de1[_0x2f6a67(0x18b)]=_0x4e7814['toString'][_0x2f6a67(0x153)](_0x4e7814),_0x32456d[_0x4ac6ab]=_0x313de1;}});_0x1de2ed();import{core}from'oicq';function ShareImage_JSON(_0x30cb5c,_0x1ed688=![]){const _0x418ade=_0xd391;let _0x192b43={'app':'com.tencent.imagetextbot','desc':'','bizsrc':'','view':_0x418ade(0x159),'ver':_0x418ade(0x14f),'prompt':_0x418ade(0x162),'appID':'','sourceName':'','actionData':'','actionData_A':'','sourceUrl':'','meta':{'robot':{'cover':'','jump_url':'','subtitle':'','title':''}},'config':{'ctime':0x0,'showSender':0x0,'token':0x0,'type':_0x418ade(0x18e)},'text':'','sourceAd':'','extra':''};return _0x192b43[_0x418ade(0x177)][_0x418ade(0x18d)]['cover']=_0x30cb5c,_0x1ed688&&(_0x192b43['meta'][_0x418ade(0x18d)]['title']=_0x1ed688),{'data':_0x192b43};}async function upload_image(_0x49e794,_0x570780=![]){const _0x231bfb=_0xd391;let _0x1dc2b8=(await Bot[_0x231bfb(0x149)](Bot[_0x231bfb(0x14e)])[_0x231bfb(0x15a)](segment[_0x231bfb(0x16c)](_0x49e794,!![])))['imgs'][0x0],_0x4f3fcf=(_0x1dc2b8[_0x231bfb(0x14a)][_0x231bfb(0x18b)](_0x231bfb(0x16a))||'')[_0x231bfb(0x165)]();if(_0x570780){let _0x54aa2a='https://c2cpicdw.qpic.cn/gchatpic_new/0/0-0-'+_0x4f3fcf+'/0';return _0x54aa2a;}else return _0x4f3fcf;}async function Sign(_0x1d879e,_0x2f63c1=null){return new Promise((_0x450b99,_0x4239ba)=>{const _0x165fb2=_0xd391;let _0x1b20bb={'code':-0x1},_0x31522c=null;try{_0x31522c=JSON['parse'](_0x1d879e);}catch(_0x4863df){}if(!_0x31522c){_0x1b20bb['code']=-0x1,_0x1b20bb[_0x165fb2(0x15b)]=_0x165fb2(0x17b),_0x450b99(_0x1b20bb);return;}delete _0x31522c[_0x165fb2(0x15f)];(!_0x2f63c1||!_0x2f63c1[_0x165fb2(0x18a)])&&(_0x2f63c1={'appid':0x60466e0,'appname':_0x165fb2(0x16d),'appsign':_0x165fb2(0x170),'miniapp_appid':0x42284d95});let _0x1f5ffa=Bot[_0x165fb2(0x14e)],_0x16d3ec=0x0,_0x39200c=0x0,_0x5a23da=0xa,_0x1087c6=new Date()[_0x165fb2(0x166)](),_0x2fba1f=parseInt(''+_0x1087c6+random(0x64,0x3e7));_0x1b20bb[_0x165fb2(0x174)]=_0x2fba1f;let _0x21c0ec={0x1:_0x2f63c1[_0x165fb2(0x143)],0x2:0x1,0x3:_0x5a23da,0x5:{0x1:0x1,0x2:_0x165fb2(0x14b),0x3:_0x2f63c1['appname'],0x4:_0x2f63c1[_0x165fb2(0x148)]},0x7:{0xf:_0x2fba1f},0xa:_0x16d3ec,0xb:_0x1f5ffa,0x12:{0x1:_0x2f63c1[_0x165fb2(0x18a)],0x2:{0xe:'pages'},0x3:_0x165fb2(0x15c),0x4:'text',0x5:_0x165fb2(0x173),0x6:'text',0xa:JSON['stringify'](_0x31522c)},0x13:_0x39200c},_0x3dcf49=function(_0x5f2ac6){const _0x304b7a=_0x165fb2;if(Bot[_0x304b7a(0x14e)]==_0x5f2ac6[_0x304b7a(0x16e)]&&_0x5f2ac6?.['message'][0x0]?.['type']=='json'){let _0x5c78f6=_0x5f2ac6[_0x304b7a(0x183)][0x0][_0x304b7a(0x186)],_0xcc6d71=null,_0xfa7cc=null;try{_0xcc6d71=JSON[_0x304b7a(0x16b)](_0x5c78f6),_0xfa7cc=typeof _0xcc6d71[_0x304b7a(0x15f)]=='object'?_0xcc6d71['extra']:JSON[_0x304b7a(0x16b)](_0xcc6d71['extra']);}catch(_0x1b3455){}if(_0xfa7cc&&_0xfa7cc[_0x304b7a(0x174)]==_0x2fba1f)return clearTimeout(_0x32987e),clearTimeout(_0x47cdfa),delete _0xcc6d71[_0x304b7a(0x15f)],_0x1b20bb[_0x304b7a(0x176)]=0x1,_0x1b20bb[_0x304b7a(0x15b)]='签名成功！',_0x1b20bb[_0x304b7a(0x186)]=_0xcc6d71,_0x450b99(_0x1b20bb),!![];}return![];},_0x2734e4=async function(){const _0x1d38eb=_0x165fb2;let _0x1b1814=0x0;for(let _0x8d9ace=0x0;_0x8d9ace<0xa;_0x8d9ace++){let _0x2f2ae3=await Bot[_0x1d38eb(0x149)](Bot[_0x1d38eb(0x14e)])[_0x1d38eb(0x185)](_0x1b1814,0x14);_0x1b1814=_0x2f2ae3[0x0]?.[_0x1d38eb(0x141)],_0x2f2ae3[_0x1d38eb(0x167)]();for(let _0x57a23e of _0x2f2ae3){if(_0x3dcf49(_0x57a23e))return!![];}if(parseInt((''+_0x1087c6)[_0x1d38eb(0x16f)](0x0,0xa))-_0x1b1814>0x3)break;}return![];},_0x32987e=setTimeout(async function(){const _0x3b9c53=_0x165fb2;if(await _0x2734e4())return;_0x1b20bb[_0x3b9c53(0x176)]=-0x1,_0x1b20bb[_0x3b9c53(0x15b)]='签名失败，请稍后再试！',_0x450b99(_0x1b20bb);},0xbb8),_0x1bd0a7=0x0,_0xefe7e2=async function(){const _0x462071=_0x165fb2;if(_0x1bd0a7==0x0)try{let _0xfbc8e9=await _0x1b20bb[_0x462071(0x17f)];_0xfbc8e9=core['pb'][_0x462071(0x152)](_0xfbc8e9);if(_0xfbc8e9[0x3]!=0x0)return _0x1b20bb[_0x462071(0x176)]=-0x1,_0x1b20bb[_0x462071(0x15b)]='签名失败，请稍后再试！',clearTimeout(_0x32987e),_0x450b99(_0x1b20bb),!![];}catch(_0x5a03be){}if(await _0x2734e4())return;if(_0x1bd0a7>0x6)return;_0x1bd0a7++,_0x47cdfa=setTimeout(_0xefe7e2,0x64);},_0x47cdfa=setTimeout(_0xefe7e2,0x64);_0x1b20bb['result']=Bot[_0x165fb2(0x144)](_0x165fb2(0x17c),core['pb'][_0x165fb2(0x160)](_0x21c0ec));});}async function Share(_0x1d4cbe,_0x78bb23,_0x579094=null,_0x5738b2=null,_0x1e0323=![]){const _0x20196e=_0xd391;let _0x4b51c1={'code':-0x1},_0x53d64e=null;try{_0x53d64e=JSON['parse'](_0x1d4cbe);}catch(_0x568b79){}if(!_0x53d64e)return _0x4b51c1[_0x20196e(0x176)]=-0x1,_0x4b51c1[_0x20196e(0x15b)]=_0x20196e(0x17d),_0x4b51c1;delete _0x53d64e[_0x20196e(0x15f)];let _0x3f18ef=0x0,_0x3b7e6e=0x0,_0x5ef6f3=0x0;if(_0x78bb23['isGroup']&&_0x579094==null)_0x3f18ef=_0x78bb23[_0x20196e(0x15d)][_0x20196e(0x154)],_0x3b7e6e=0x1;else{if(_0x78bb23['guild_id'])_0x3f18ef=Number(_0x78bb23[_0x20196e(0x15e)]),_0x5ef6f3=BigInt(_0x78bb23['guild_id']),_0x3b7e6e=0x3;else _0x579094==null?(_0x3f18ef=_0x78bb23[_0x20196e(0x189)][_0x20196e(0x147)],_0x3b7e6e=0x0):(_0x3f18ef=_0x579094,_0x3b7e6e=0x0);}(!_0x5738b2||!_0x5738b2[_0x20196e(0x18a)])&&(_0x5738b2={'appid':0x60466e0,'appname':'tv.danmaku.bili','appsign':_0x20196e(0x170),'miniapp_appid':0x42284d95});let _0x273275=0xa,_0x2beb77=new Date()[_0x20196e(0x166)](),_0x4d901f=parseInt(''+_0x2beb77+random(0x64,0x3e7));_0x4b51c1['msg_seq']=_0x4d901f;let _0x1c32b7={0x1:_0x5738b2[_0x20196e(0x143)],0x2:0x1,0x3:_0x273275,0x5:{0x1:0x1,0x2:_0x20196e(0x14b),0x3:_0x5738b2[_0x20196e(0x168)],0x4:_0x5738b2[_0x20196e(0x148)]},0x7:{0xf:_0x4d901f},0xa:_0x3b7e6e,0xb:_0x3f18ef,0x12:{0x1:_0x5738b2[_0x20196e(0x18a)],0x2:{0xe:_0x20196e(0x187)},0x3:_0x20196e(0x15c),0x4:_0x20196e(0x173),0x5:_0x20196e(0x173),0x6:_0x20196e(0x173),0xa:JSON[_0x20196e(0x142)](_0x53d64e)},0x13:_0x5ef6f3},_0xae031=await Bot['sendOidb'](_0x20196e(0x17c),core['pb']['encode'](_0x1c32b7));return _0x4b51c1[_0x20196e(0x186)]=core['pb'][_0x20196e(0x152)](_0xae031),_0x4b51c1[_0x20196e(0x186)][0x3]==0x0?(_0x1e0323&&_0x3b7e6e!=0x3&&(_0x4b51c1[_0x20196e(0x183)]=new Promise((_0xdb84ae,_0x59d1d3)=>{let _0x30e5b2={'code':-0x1},_0x28c079=function(_0x362487){const _0x4e2312=_0xd391;if(Bot[_0x4e2312(0x14e)]==_0x362487['user_id']&&_0x362487?.['message'][0x0]?.[_0x4e2312(0x190)]==_0x4e2312(0x181)){let _0x31684a=_0x362487[_0x4e2312(0x183)][0x0][_0x4e2312(0x186)],_0x10b9b0=null,_0x4479f6=null;try{_0x10b9b0=JSON[_0x4e2312(0x16b)](_0x31684a),_0x4479f6=typeof _0x10b9b0[_0x4e2312(0x15f)]==_0x4e2312(0x179)?_0x10b9b0['extra']:JSON[_0x4e2312(0x16b)](_0x10b9b0[_0x4e2312(0x15f)]);}catch(_0x24e6f6){}if(_0x4479f6&&_0x4479f6[_0x4e2312(0x174)]==_0x4d901f)return clearTimeout(_0x109e79),delete _0x10b9b0['extra'],_0x30e5b2[_0x4e2312(0x176)]=0x1,_0x30e5b2[_0x4e2312(0x15b)]='获取成功！',_0x30e5b2[_0x4e2312(0x186)]=_0x10b9b0,_0x30e5b2['message_id']=_0x362487[_0x4e2312(0x158)],_0xdb84ae(_0x30e5b2),!![];}return![];},_0x3ab208=async function(_0x6a0131=![]){const _0x48e68e=_0xd391;let _0x1c26b7=0x0;for(let _0x4dd471=0x0;_0x4dd471<0xa;_0x4dd471++){let _0x738ed7=_0x3b7e6e==0x1?await Bot[_0x48e68e(0x150)](_0x3f18ef)[_0x48e68e(0x185)](_0x1c26b7,0x14):await Bot['pickFriend'](_0x3f18ef)[_0x48e68e(0x185)](_0x1c26b7,0x14),_0x640b71=_0x738ed7[0x0]?.[_0x48e68e(0x141)];_0x3b7e6e==0x1?_0x1c26b7=_0x738ed7[0x0]?.[_0x48e68e(0x17e)]:_0x1c26b7=_0x738ed7[0x0]?.[_0x48e68e(0x141)];_0x738ed7['reverse']();for(let _0x321794 of _0x738ed7){if(_0x28c079(_0x321794))return;}if(parseInt((''+_0x2beb77)[_0x48e68e(0x16f)](0x0,0xa))-_0x640b71>0x3)break;}!_0x6a0131?_0x109e79=setTimeout(function(){_0x3ab208(!![]);},0x3e8):_0xdb84ae(_0x30e5b2);},_0x109e79=setTimeout(_0x3ab208,0x3e8);})),_0x4b51c1[_0x20196e(0x15b)]='分享成功！',_0x4b51c1['code']=0x1):_0x4b51c1[_0x20196e(0x15b)]=_0x4b51c1[0x3],_0x4b51c1;}export default{'Sign':Sign,'Share':Share,'ShareImage_JSON':ShareImage_JSON,'upload_image':upload_image};function _0x21ad(){const _0x2febf9=['return\x20(function()\x20','robot','normal','103sADEuN','type','time','stringify','appid','sendOidb','info','warn','uid','appsign','pickFriend','md5','0.0.0','12443200ZlbCWL','192351OXthgA','uin','1.0.0.11','pickGroup','8CVdldK','decode','bind','gid','(((.+)+)+)+$','6991614nWnqIO','2663025RFzuLG','message_id','index','_preprocess','msg','url','group','channel_id','extra','encode','search','[全屏图片]','trace','error','toUpperCase','getTime','reverse','appname','__proto__','hex','parse','image','tv.danmaku.bili','user_id','substring','7194d531cbe7960a22007b9f6bdaa38b','length','6380310odNpei','text','msg_seq','console','code','meta','20954oWWpMp','object','prototype','签名失败，不是有效的json！','OidbSvc.0xb77_9','分享失败，不是有效的json！','seq','result','4fQEniz','json','constructor','message','apply','getChatHistory','data','pages','4578399AvdKdV','friend','miniapp_appid','toString'];_0x21ad=function(){return _0x2febf9;};return _0x21ad();}function _0xd391(_0x50a0db,_0x3f14ca){const _0x209759=_0x21ad();return _0xd391=function(_0x1de2ed,_0x70968c){_0x1de2ed=_0x1de2ed-0x141;let _0x13ad0c=_0x209759[_0x1de2ed];return _0x13ad0c;},_0xd391(_0x50a0db,_0x3f14ca);}function random(_0x3527c2,_0xd322c3){const _0x12ca8f=_0xd322c3-_0x3527c2,_0x5693e4=Math['random'](),_0x579047=_0x3527c2+Math['round'](_0x5693e4*_0x12ca8f);return _0x579047;}